leaf_site_trt$lai_mean.x) / leaf_site_trt$lai_mean.x) * 100
leaf_site_trt$delta_live_mass = ((leaf_site_trt$live_mass_mean.y -
leaf_site_trt$live_mass_mean.x) / leaf_site_trt$live_mass_mean.x) * 100
leaf_site_trt$delta_chi = ((leaf_site_trt$chi_mean.y -
leaf_site_trt$chi_mean.x) / leaf_site_trt$chi_mean.x) * 100
### model response
delta_lai_lm = lm(delta_narea ~ delta_lai,
data = leaf_site_trt)
plot(resid(delta_lai_lm) ~ fitted(delta_lai_lm))
Anova(delta_lai_lm)
summary(delta_lai_lm)
delta_live_mass_lm = lm(delta_narea ~ delta_live_mass,
data = leaf_site_trt)
plot(resid(delta_live_mass_lm) ~ fitted(delta_live_mass_lm))
Anova(delta_live_mass_lm)
summary(delta_live_mass_lm)
ggplot(data = leaf_site_trt,
aes(x = delta_lai, y = delta_narea)) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(2.5), colour = 'black'),
axis.title.x=element_text(size=rel(2.5), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey")) +
geom_point(size = 4, alpha = 0.8) +
geom_smooth(method='lm')
ggplot(data = leaf_site_trt,
aes(x = delta_lai, y = delta_narea)) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(2.5), colour = 'black'),
axis.title.x=element_text(size=rel(2.5), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey")) +
geom_point(size = 4, alpha = 0.8) +
geom_smooth(method='lm') +
ylab(expression('∆' *'N'['area']))
ggplot(data = leaf_site_trt,
aes(x = delta_lai, y = delta_narea)) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(2.5), colour = 'black'),
axis.title.x=element_text(size=rel(2.5), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey")) +
geom_point(size = 4, alpha = 0.8) +
geom_smooth(method='lm') +
ylab(expression('∆' *italic('N')['area']))
ggplot(data = leaf_site_trt,
aes(x = delta_lai, y = delta_narea)) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(2.5), colour = 'black'),
axis.title.x=element_text(size=rel(2.5), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey")) +
geom_point(size = 4, alpha = 0.8) +
geom_smooth(method='lm') +
ylab(expression('∆' *italic('N')['area'])) +
xlab(expression('∆' *'LAI'))
ggplot(data = leaf_site_trt,
aes(x = delta_lai, y = delta_narea)) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(2.5), colour = 'black'),
axis.title.x=element_text(size=rel(2.5), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey")) +
geom_point(size = 4, alpha = 0.8) +
geom_smooth(method='lm') +
ylab(expression('∆' * italic('N')['area'] * '(%)')) +
xlab(expression('∆' *'LAI' * '(%)'))
ggplot(data = leaf_site_trt,
aes(x = delta_lai, y = delta_narea)) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(2.5), colour = 'black'),
axis.title.x=element_text(size=rel(2.5), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey")) +
geom_point(size = 4, alpha = 0.8) +
geom_smooth(method='lm') +
ylab(expression('∆' * italic('N')['area'] * ' (%)')) +
xlab(expression('∆' *'LAI' * ' (%)'))
?geom_smooth
ggplot(data = leaf_site_trt,
aes(x = delta_lai, y = delta_narea)) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(2.5), colour = 'black'),
axis.title.x=element_text(size=rel(2.5), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey")) +
geom_point(size = 4, alpha = 0.8, colour = 'black') +
geom_smooth(method='lm') +
ylab(expression('∆' * italic('N')['area'] * ' (%)')) +
xlab(expression('∆' *'LAI' * ' (%)'))
ggplot(data = leaf_site_trt,
aes(x = delta_lai, y = delta_narea)) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(2.5), colour = 'black'),
axis.title.x=element_text(size=rel(2.5), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey")) +
geom_point(size = 4, alpha = 0.8) +
geom_smooth(method='lm', colour = 'black') +
ylab(expression('∆' * italic('N')['area'] * ' (%)')) +
xlab(expression('∆' *'LAI' * ' (%)'))
delta_plot = ggplot(data = leaf_site_trt,
aes(x = delta_lai, y = delta_narea)) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(2.5), colour = 'black'),
axis.title.x=element_text(size=rel(2.5), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey")) +
geom_point(size = 4, alpha = 0.8) +
geom_smooth(method='lm', colour = 'black') +
ylab(expression('∆' * italic('N')['area'] * ' (%)')) +
xlab(expression('∆' *'LAI' * ' (%)'))
jpeg(filename = "plots/delta_plot.jpeg", width = 500, height = 700, units = 'px')
plot(delta_plot)
dev.off()
jpeg(filename = "plots/delta_plot.jpeg", width = 400, height = 500, units = 'px')
plot(delta_plot)
dev.off()
jpeg(filename = "plots/delta_plot.jpeg", width = 400, height = 450, units = 'px')
plot(delta_plot)
dev.off()
test(emtrends(leafNarea_lmer, ~1, var = 'chi'))
### run analyses
# hist(leaf$narea)
# hist(log(leaf$narea))
leafNarea_lmer = lmer(log(narea) ~ Ntrt_fac * Ptrt_fac * Ktrt_fac + chi + tmp + log(par) +
log(lma) + Nfix +
(1|site_code) + (1|site_code:block_fac),
data = leaf)
test(emtrends(leafNarea_lmer, ~1, var = 'chi'))
### run analyses
# hist(leaf$narea)
# hist(log(leaf$narea))
leafNarea_lmer = lmer(log(narea) ~ Ntrt_fac * Ptrt_fac * Ktrt_fac + chi +
log(lma) + Nfix +
(1|site_code) + (1|site_code:block_fac),
data = leaf)
# plot(resid(leafNarea_lmer) ~ fitted(leafNarea_lmer))
Anova(leafNarea_lmer)
summary(leafNarea_lmer)
### run analyses
# hist(leaf$narea)
# hist(log(leaf$narea))
leafNarea_lmer = lmer(log(narea) ~ Ntrt_fac * Ptrt_fac * Ktrt_fac + chi + tmp + log(par)
log(lma) + Nfix +
(1|site_code) + (1|site_code:block_fac),
data = leaf)
### run analyses
# hist(leaf$narea)
# hist(log(leaf$narea))
leafNarea_lmer = lmer(log(narea) ~ Ntrt_fac * Ptrt_fac * Ktrt_fac + chi + tmp + log(par) +
log(lma) + Nfix +
(1|site_code) + (1|site_code:block_fac),
data = leaf)
# plot(resid(leafNarea_lmer) ~ fitted(leafNarea_lmer))
Anova(leafNarea_lmer)
summary(leafNarea_lmer)
# hist(leaf$chi)
# hist(log(leaf$Narea))
leafchi_lmer = lmer(logit(chi) ~ Ntrt_fac * Ptrt_fac * Ktrt_fac + tmp + log(vpd) + z +
(1|site_code) + (1|site_code:block_fac),
data = leaf)
Anova(leafchi_lmer)
cld(emmeans(leafchi_lmer, ~Ntrt_fac))
# hist(leaf$chi)
# hist(log(leaf$Narea))
leafchi_lmer = lmer(logit(chi) ~ Ntrt_fac * Ptrt_fac * Ktrt_fac + tmp + log(vpd) + z +
(1|site_code) + (1|site_code:block_fac) + (1|site_code:Taxon),
data = leaf)
# plot(resid(leafchi_lmer) ~ fitted(leafchi_lmer))
summary(leafchi_lmer)
Anova(leafchi_lmer)
cld(emmeans(leafchi_lmer, ~Ntrt_fac))
### run analyses
# hist(leaf$narea)
# hist(log(leaf$narea))
leafNarea_lmer = lmer(log(narea) ~ Ntrt_fac * Ptrt_fac * Ktrt_fac + chi + tmp + log(par) +
log(lma) + Nfix +
(1|site_code) + (1|site_code:block_fac) + (1|site_code:Taxon),
data = leaf)
# plot(resid(leafNarea_lmer) ~ fitted(leafNarea_lmer))
Anova(leafNarea_lmer)
summary(leafNarea_lmer)
### run analyses
# hist(leaf$narea)
# hist(log(leaf$narea))
leafNarea_lmer = lmer(log(narea) ~ Ntrt_fac * Ptrt_fac * Ktrt_fac + chi + tmp + log(par) +
log(lma) + Nfix +
(1|site_code) + (1|site_code:block_fac) + (1|Taxon),
data = leaf)
# plot(resid(leafNarea_lmer) ~ fitted(leafNarea_lmer))
Anova(leafNarea_lmer)
summary(leafNarea_lmer)
# plot(resid(leafNarea_lmer) ~ fitted(leafNarea_lmer))
Anova(leafNarea_lmer)
(exp(summary(emmeans(leafNarea_lmer, ~Ntrt_fac))[2,2]) - exp(summary(emmeans(leafNarea_lmer, ~Ntrt_fac))[1,2])) /
exp(abs(summary(emmeans(leafNarea_lmer, ~Ntrt_fac))[1,2]))
cld(emmeans(leafNarea_lmer, ~Nfix))
test(emtrends(leafNarea_lmer, ~1, var = 'chi'))
test(emtrends(leafNarea_lmer, ~1, var = 'log(lma)'))
test(emtrends(leafNarea_lmer, ~1, var = 'tmp'))
test(emtrends(leafNarea_lmer, ~1, var = 'log(par)'))
calc.relip.mm(leafNarea_lmer)
### make figure
narea_plot = ggplot(data = leaf,
aes(x = Ntrt_fac, y = log(narea))) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(4), colour = 'black'),
axis.title.x=element_text(size=rel(4), colour = 'black'),
axis.text.x=element_text(size=rel(3), colour = 'black'),
axis.text.y=element_text(size=rel(3), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey"),
plot.tag = element_text(size = 30)) +
geom_boxplot(outlier.color = NA, fill = 'white') +
geom_dotplot(binaxis = 'y', binwidth = 0.1, stackdir = 'center',
fill = 'brown', alpha = 0.8) +
scale_x_discrete(labels = c('Ambient', 'Added N')) +
xlab('') +
ylab(expression('Log leaf ' * italic('N')['area'])) +
xlab('Soil N treatment') +
labs(tag = 'A')
relimp_leafn = calc.relip.mm(leafNarea_lmer)$lmg
relimp_leafn_df = NULL
relimp_leafn_df$Factor = c('Soil N', 'Soil P', 'Soil K+µ', 'Ci/Ca', 'Temperature', 'Light', 'LMA', 'N fixer', 'Soil interactions')
relimp_leafn_df$Importance = as.numeric(as.character(c(relimp_leafn[1:8], sum(relimp_leafn[9:12]))))
relimp_leafn_df = as.data.frame(relimp_leafn_df)
unexplained = 1 - sum(relimp_leafn_df$Importance)
unexplained_df = data.frame("Unexplained", unexplained)
names(unexplained_df) = c("Factor", "Importance")
relimp_leafn_df = rbind(relimp_leafn_df, unexplained_df)
narea_treemap = ggplot(relimp_leafn_df, aes(area = Importance, label = Factor)) +
theme(plot.tag = element_text(size = 30)) +
geom_treemap(fill = c('burlywood1', 'burlywood2', 'burlywood3',
'blue', 'yellow', 'red', 'grey', 'orange',
'burlywood4', 'white'), colour = 'black') +
geom_treemap_text(colour = "black", place = "centre",
grow = TRUE) +
labs(tag = 'B')
jpeg(filename = "plots/narea_plot_treemap.jpeg", width = 1700, height = 900, units = 'px')
multiplot(narea_plot, narea_treemap, cols = 2)
dev.off()
relimp_leafn_df$Factor = c('Soil N', 'Soil P', 'Soil K+µ', 'χ', 'Temperature', 'Light', 'LMA', 'N fixer', 'Soil interactions')
relimp_leafn = calc.relip.mm(leafNarea_lmer)$lmg
relimp_leafn_df = NULL
relimp_leafn_df$Factor = c('Soil N', 'Soil P', 'Soil K+µ', 'χ', 'Temperature', 'Light', 'LMA', 'N fixer', 'Soil interactions')
relimp_leafn_df$Importance = as.numeric(as.character(c(relimp_leafn[1:8], sum(relimp_leafn[9:12]))))
relimp_leafn_df = as.data.frame(relimp_leafn_df)
unexplained = 1 - sum(relimp_leafn_df$Importance)
unexplained_df = data.frame("Unexplained", unexplained)
names(unexplained_df) = c("Factor", "Importance")
relimp_leafn_df = rbind(relimp_leafn_df, unexplained_df)
narea_treemap = ggplot(relimp_leafn_df, aes(area = Importance, label = Factor)) +
theme(plot.tag = element_text(size = 30)) +
geom_treemap(fill = c('burlywood1', 'burlywood2', 'burlywood3',
'blue', 'yellow', 'red', 'grey', 'orange',
'burlywood4', 'white'), colour = 'black') +
geom_treemap_text(colour = "black", place = "centre",
grow = TRUE) +
labs(tag = 'B')
jpeg(filename = "plots/narea_plot_treemap.jpeg", width = 1700, height = 900, units = 'px')
multiplot(narea_plot, narea_treemap, cols = 2)
dev.off()
npred_soil_lmer = lmer(log(narea) ~ lognphoto + lognstructure +
Ntrt_fac * Ptrt_fac * Ktrt_fac +
Nfix +
(1|site_code) + (1|site_code:block_fac) + (1|Taxon),
data = leaf)
plot(resid(npred_soil_lmer) ~ fitted(npred_soil_lmer))
Anova(npred_soil_lmer)
summary(npred_soil_lmer)
calc.relip.mm(npred_soil_lmer)
nphoto_slope = summary(emtrends(npred_soil_lmer, ~1, var = "lognphoto"))[1, 2]
nphoto_intercept_lowN = summary(emmeans(npred_soil_lmer, ~Ntrt_fac, at = list(lognphoto = 0)))[1, 2]
nphoto_intercept_highN = summary(emmeans(npred_soil_lmer, ~Ntrt_fac, at = list(lognphoto = 0)))[2, 2]
lognphoto_seq = seq(min(leaf$lognphoto), max(leaf$lognphoto), 0.01)
nphoto_trend_lowN = nphoto_intercept_lowN + lognphoto_seq * nphoto_slope
nphoto_trend_highN = nphoto_intercept_highN + lognphoto_seq * nphoto_slope
nphoto_trend = as.data.frame(cbind(lognphoto_seq, nphoto_trend_lowN, nphoto_trend_highN))
npred_photo_plot = ggplot(data = leaf,
aes(x = lognphoto, y = log(narea), color = Ntrt_fac)) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(2.5), colour = 'black'),
axis.title.x=element_text(size=rel(2.5), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey")) +
geom_point(shape = 16, size = 3, alpha = 0.5) +
scale_color_manual(values = c("black", "brown"), labels = c("Ambient", "Added N")) +
labs(color = 'Soil N') +
geom_line(data = nphoto_trend, aes(x = lognphoto_seq, y = nphoto_trend_lowN),
col = 'black', lwd = 3, alpha = 0.8) +
geom_line(data = nphoto_trend, aes(x = lognphoto_seq, y = nphoto_trend_highN),
col = 'brown', lwd = 3, alpha = 0.8) +
ylab(expression('Log leaf ' * italic('N')['area'])) +
xlab(expression('Log leaf ' * italic('N')['photo']))
nstructure_slope = summary(emtrends(npred_soil_lmer, ~1, var = "lognstructure"))[1, 2]
nstructure_intercept_lowN = summary(emmeans(npred_soil_lmer, ~Ntrt_fac, at = list(lognstructure = 0)))[1, 2]
nstructure_intercept_highN = summary(emmeans(npred_soil_lmer, ~Ntrt_fac, at = list(lognstructure = 0)))[2, 2]
lognstructure_seq = seq(min(leaf$lognstructure, na.rm = T), max(leaf$lognstructure, na.rm = T), 0.1)
nstructure_trend_lowN = nstructure_intercept_lowN + lognstructure_seq * nstructure_slope
nstructure_trend_highN = nstructure_intercept_highN + lognstructure_seq * nstructure_slope
nstructure_trend = as.data.frame(cbind(lognstructure_seq, nstructure_trend_lowN, nstructure_trend_highN))
npred_structure_plot = ggplot(data = leaf,
aes(x = lognstructure, y = log(narea), color = Ntrt_fac)) +
theme(legend.position = c(0, 1),
legend.justification = c(0, 1),
legend.title = element_text(size = 20),
legend.text = element_text(size = 20),
legend.background = element_rect(fill = 'white', colour = 'black'),
axis.title.y=element_text(size=rel(2.5), colour = 'black'),
axis.title.x=element_text(size=rel(2.5), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey")) +
geom_point(shape = 16, size = 3, alpha = 0.5) +
scale_color_manual(values = c("black", "brown"), labels = c("Ambient", "Added N")) +
labs(color = 'Soil N') +
geom_line(data = nstructure_trend, aes(x = lognstructure_seq, y = nstructure_trend_lowN),
col = 'black', lwd = 3, alpha = 0.8) +
geom_line(data = nstructure_trend, aes(x = lognstructure_seq, y = nstructure_trend_highN),
col = 'brown', lwd = 3, alpha = 0.8) +
ylab(expression('Log leaf ' * italic('N')['area'])) +
xlab(expression('Log leaf ' * italic('N')['structure']))
jpeg(filename = "plots/npred_plot.jpeg", width = 800, height = 500, units = 'px')
multiplot(npred_structure_plot, npred_photo_plot, cols=2)
dev.off()
nrow(leaf)
leaf$Taxon
nrow(leaf_site)
leaf$site_code
# hist(leaf_site_Nonly$lai_mean)
# hist(log(leaf_site_Nonly$lai_mean))
lai_lmer = lmer(log(lai_mean) ~ Ntrt_fac * Ptrt_fac * Ktrt_fac +
(1|site_code) + (1|site_code:block),
data = leaf_site)
# plot(resid(lai_lmer) ~ fitted(lai_lmer))
Anova(lai_lmer)
cld(emmeans(lai_lmer, ~Ntrt_fac))
(exp(summary(emmeans(lai_lmer, ~Ntrt_fac))[2,2]) - exp(summary(emmeans(lai_lmer, ~Ntrt_fac))[1,2])) /
abs(exp(summary(emmeans(lai_lmer, ~Ntrt_fac))[1,2]))
# hist(leaf_site_Nonly$live_mass_mean)
# hist(log(leaf_site_Nonly$live_mass_mean))
live_mass_lmer = lmer(log(live_mass_mean) ~ Ntrt_fac * Ptrt_fac * Ktrt_fac +
(1|site_code) + (1|site_code:block),
data = leaf_site)
# plot(resid(live_mass_lmer) ~ fitted(live_mass_lmer))
Anova(live_mass_lmer)
cld(emmeans(live_mass_lmer, ~Ntrt_fac))
(exp(summary(emmeans(live_mass_lmer, ~Ntrt_fac))[2,2]) - exp(summary(emmeans(live_mass_lmer, ~Ntrt_fac))[1,2])) /
abs(exp(summary(emmeans(live_mass_lmer, ~Ntrt_fac))[1,2]))
lai_plot = ggplot(data = leaf_site,
aes(x = Ntrt_fac, y = log(lai_mean))) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(2.5), colour = 'black'),
axis.title.x=element_text(size=rel(2.5), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey")) +
geom_boxplot(outlier.color = NA, fill = 'white') +
geom_dotplot(binaxis = 'y', binwidth = 0.1, stackdir = 'center', alpha = 0.5) +
scale_x_discrete(labels = c('Ambient', 'Added N')) +
xlab('') +
ylab(expression('Log LAI (m' ^ '2' *' m' ^'-2' * ')'))
live_mass_plot = ggplot(data = leaf_site,
aes(x = Ntrt_fac, y = log(live_mass_mean))) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(2.5), colour = 'black'),
axis.title.x=element_text(size=rel(2.5), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey")) +
geom_boxplot(outlier.color = NA, fill = 'white') +
geom_dotplot(binaxis = 'y', binwidth = 0.07, stackdir = 'center', alpha = 0.5) +
scale_x_discrete(labels = c('Ambient', 'Added N')) +
xlab('Nitrogen treatment') +
ylab(expression('Log Biomass (g m' ^ '2' * ')'))
jpeg(filename = "plots/lai_plot.jpeg", width = 500, height = 600, units = 'px')
plot(lai_plot)
dev.off()
jpeg(filename = "plots/lai_plot.jpeg", width = 500, height = 550, units = 'px')
plot(lai_plot)
dev.off()
### make figure
narea_plot = ggplot(data = leaf,
aes(x = Ntrt_fac, y = log(narea))) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(4), colour = 'black'),
axis.title.x=element_text(size=rel(4), colour = 'black'),
axis.text.x=element_text(size=rel(3), colour = 'black'),
axis.text.y=element_text(size=rel(3), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey"),
plot.tag = element_text(size = 30)) +
geom_boxplot(outlier.color = NA, fill = 'white') +
geom_dotplot(binaxis = 'y', binwidth = 0.1, stackdir = 'center',
fill = 'burlywood1', alpha = 0.8) +
scale_x_discrete(labels = c('Ambient', 'Added N')) +
xlab('') +
ylab(expression('Log leaf ' * italic('N')['area'])) +
xlab('Soil N treatment') +
labs(tag = 'A')
jpeg(filename = "plots/narea_plot_treemap.jpeg", width = 1700, height = 900, units = 'px')
multiplot(narea_plot, narea_treemap, cols = 2)
dev.off()
### make figure
narea_plot = ggplot(data = leaf,
aes(x = Ntrt_fac, y = log(narea))) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(4), colour = 'black'),
axis.title.x=element_text(size=rel(4), colour = 'black'),
axis.text.x=element_text(size=rel(3), colour = 'black'),
axis.text.y=element_text(size=rel(3), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey"),
plot.tag = element_text(size = 30)) +
geom_boxplot(outlier.color = NA, fill = 'white') +
geom_dotplot(binaxis = 'y', binwidth = 0.1, stackdir = 'center',
fill = 'burlywood1', alpha = 0.5) +
scale_x_discrete(labels = c('Ambient', 'Added N')) +
xlab('') +
ylab(expression('Log leaf ' * italic('N')['area'])) +
xlab('Soil N treatment') +
labs(tag = 'A')
jpeg(filename = "plots/narea_plot_treemap.jpeg", width = 1700, height = 900, units = 'px')
multiplot(narea_plot, narea_treemap, cols = 2)
dev.off()
### make figure
narea_plot = ggplot(data = leaf,
aes(x = Ntrt_fac, y = log(narea))) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(4), colour = 'black'),
axis.title.x=element_text(size=rel(4), colour = 'black'),
axis.text.x=element_text(size=rel(3), colour = 'black'),
axis.text.y=element_text(size=rel(3), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey"),
plot.tag = element_text(size = 30)) +
geom_boxplot(outlier.color = NA, fill = 'white', stroke = 5) +
geom_dotplot(binaxis = 'y', binwidth = 0.1, stackdir = 'center',
fill = 'burlywood1', alpha = 0.5) +
scale_x_discrete(labels = c('Ambient', 'Added N')) +
xlab('') +
ylab(expression('Log leaf ' * italic('N')['area'])) +
xlab('Soil N treatment') +
labs(tag = 'A')
### make figure
narea_plot = ggplot(data = leaf,
aes(x = Ntrt_fac, y = log(narea))) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(4), colour = 'black'),
axis.title.x=element_text(size=rel(4), colour = 'black'),
axis.text.x=element_text(size=rel(3), colour = 'black'),
axis.text.y=element_text(size=rel(3), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey"),
plot.tag = element_text(size = 30)) +
geom_boxplot(outlier.color = NA, fill = 'white', lwd = 5) +
geom_dotplot(binaxis = 'y', binwidth = 0.1, stackdir = 'center',
fill = 'burlywood1', alpha = 0.5) +
scale_x_discrete(labels = c('Ambient', 'Added N')) +
xlab('') +
ylab(expression('Log leaf ' * italic('N')['area'])) +
xlab('Soil N treatment') +
labs(tag = 'A')
jpeg(filename = "plots/narea_plot_treemap.jpeg", width = 1700, height = 900, units = 'px')
multiplot(narea_plot, narea_treemap, cols = 2)
dev.off()
### make figure
narea_plot = ggplot(data = leaf,
aes(x = Ntrt_fac, y = log(narea))) +
theme(legend.position = "none",
axis.title.y=element_text(size=rel(4), colour = 'black'),
axis.title.x=element_text(size=rel(4), colour = 'black'),
axis.text.x=element_text(size=rel(3), colour = 'black'),
axis.text.y=element_text(size=rel(3), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "grey"),
plot.tag = element_text(size = 30)) +
geom_boxplot(outlier.color = NA, fill = 'white', lwd = 5) +
geom_dotplot(binaxis = 'y', binwidth = 0.1, stackdir = 'center',
fill = 'burlywood1', alpha = 0.8) +
scale_x_discrete(labels = c('Ambient', 'Added N')) +
xlab('') +
ylab(expression('Log leaf ' * italic('N')['area'])) +
xlab('Soil N treatment') +
labs(tag = 'A')
jpeg(filename = "plots/narea_plot_treemap.jpeg", width = 1700, height = 900, units = 'px')
multiplot(narea_plot, narea_treemap, cols = 2)
dev.off()
